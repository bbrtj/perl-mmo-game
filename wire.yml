env:
    class: Component::Env

db:
    class: Component::DB
    args:
        env:
            $ref: env

log:
    class: Mojo::Log
    args:
        path: 'logs/application.log'
        level: 'debug'

# Repositories

schema_repo:
    class: Repository::Schema
    args:
        db:
            $ref: db

char_cache:
    class: Repository::CharCache

lore_data:
    class: Repository::LoreData

battle_unit:
    class: Repository::BattleUnit

actor_unit:
    class: Repository::ActorUnit

# Services

user_service:
    class: Service::User
    args:
        repo:
            $ref: schema_repo
